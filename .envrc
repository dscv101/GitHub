# Main development environment
use flake

# Load devenv if available
if has devenv; then
  eval "$(devenv print-dev-env)"
fi

# Set up development environment variables
export DEVENV_ROOT="$PWD"
export NIX_SHELL_PRESERVE_PROMPT=1

# Language-specific environment setup
if [[ -f "pyproject.toml" || -f "requirements.txt" || -f "setup.py" ]]; then
  echo "üêç Python project detected - use 'devenv shell python' for Python environment"
fi

if [[ -f "Cargo.toml" ]]; then
  echo "ü¶Ä Rust project detected - use 'devenv shell rust' for Rust environment"
fi

if [[ -f "build.zig" ]]; then
  echo "‚ö° Zig project detected - use 'devenv shell zig' for Zig environment"
fi

if [[ -f "Project.toml" ]]; then
  echo "üî¨ Julia project detected - use 'devenv shell julia' for Julia environment"
fi
